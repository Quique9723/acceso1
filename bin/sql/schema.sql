create table family_product (id bigint generated by default as identity, description varchar(25) default 'TBD' not null, primary key (id));
create table order_line (quantity integer not null, order_id bigint not null, product_id bigint not null, primary key (order_id, product_id));
create table orders (date_created date, id bigint generated by default as identity, status varchar(255), primary key (id));
create table product (price double default 0.0, stock integer default 25, family_product_id bigint, id bigint generated by default as identity, name varchar(225) default 'TBD' not null, pictureurl varchar(255), primary key (id));
create table role (rolename varchar(50) not null, primary key (rolename));
create table users (enabled boolean not null, expiry_date_account date not null, expiry_date_credentials date not null, locked_account boolean not null, username varchar(50) not null, email varchar(100) not null, fullname varchar(100) not null, password varchar(250) not null, primary key (username));
create table users_role_set (role_set_rolename varchar(50) not null, user_username varchar(50) not null, primary key (role_set_rolename, user_username));
alter table if exists order_line add constraint FKk9f9t1tmkbq5w27u8rrjbxxg6 foreign key (order_id) references orders;
alter table if exists order_line add constraint FKpf904tci8garypkvm32cqupye foreign key (product_id) references product;
alter table if exists product add constraint FK3rdy6ww212u6cwojcwouvt0dp foreign key (family_product_id) references family_product;
alter table if exists users_role_set add constraint FK3ge495a83555my5obgps2t7rj foreign key (role_set_rolename) references role;
alter table if exists users_role_set add constraint FK7tfkn35w2wgmg5vft1mi8ylno foreign key (user_username) references users;
